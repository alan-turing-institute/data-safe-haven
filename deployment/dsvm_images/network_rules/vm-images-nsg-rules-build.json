[
    {
        "name": "AllowBuildAdminSshInbound",
        "access": "Allow",
        "description": "Allow inbound SSH connections from authorised IP addresses",
        "destinationAddressPrefix": "*",
        "destinationPortRange": "22",
        "direction": "Inbound",
        "priority": 1000,
        "protocol": "TCP",
        "sourceAddressPrefix": [
            {{#buildAdminIpAddresses}}
                "{{.}}",
            {{/buildAdminIpAddresses}}
        ],
        "sourcePortRange": "*"
    },
    {
        "name": "IgnoreRulesBelowHereInbound",
        "access": "Deny",
        "description": "Deny all other inbound traffic.",
        "destinationAddressPrefix": "*",
        "destinationPortRange": "*",
        "direction": "Inbound",
        "priority": 4096,
        "protocol": "*",
        "sourceAddressPrefix": "*",
        "sourcePortRange": "*"
    },
    {
        "name": "AllowInternetOutbound",
        "access": "Allow",
        "description": "Allow outbound connections to internet",
        "destinationAddressPrefix": "Internet",
        "destinationPortRange": "*",
        "direction": "Outbound",
        "priority": 1000,
        "protocol": "*",
        "sourceAddressPrefix": "{{dsvmImage.build.subnet.cidr}}",
        "sourcePortRange": "*"
    },
    {
        "name": "DenyAllOtherOutbound",
        "access": "Deny",
        "description": "Deny all other outbound traffic.",
        "destinationAddressPrefix": "*",
        "destinationPortRange": "*",
        "direction": "Outbound",
        "priority": 4096,
        "protocol": "*",
        "sourceAddressPrefix": "*",
        "sourcePortRange": "*"
    }
]
